<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LadyBug: app_state_management_handler.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LadyBug<span id="projectnumber">&#160;v1.0</span>
   </div>
   <div id="projectbrief">This is the first version</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('app__state__management__handler_8c.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">app_state_management_handler.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Implementation of the EVSE state machine module.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="app__state__management__handler_8h_source.html">app_state_management_handler.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="drv__gpio__core_8h_source.html">drv_gpio_core.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for app_state_management_handler.c:</div>
<div class="dyncontent">
<div class="center"><img src="app__state__management__handler_8c__incl.png" border="0" usemap="#aapp__state__management__handler_8c" loading="lazy" alt=""/></div>
<map name="aapp__state__management__handler_8c" id="aapp__state__management__handler_8c">
<area shape="rect" title="Implementation of the EVSE state machine module." alt="" coords="737,5,897,48"/>
<area shape="rect" href="app__state__management__handler_8h.html" title="Header file for EVSE state machine module." alt="" coords="598,96,759,139"/>
<area shape="poly" title=" " alt="" coords="786,51,725,90,722,85,783,46"/>
<area shape="rect" href="drv__gpio__core_8h.html" title="GPIO driver for pin configuration and control." alt="" coords="958,427,1071,453"/>
<area shape="poly" title=" " alt="" coords="863,46,905,72,949,108,967,129,982,153,992,179,996,206,996,292,1001,356,1011,411,1005,412,996,357,991,292,991,207,987,180,977,155,963,133,945,112,902,77,860,51"/>
<area shape="rect" title=" " alt="" coords="574,501,639,528"/>
<area shape="poly" title=" " alt="" coords="760,134,812,154,860,185,887,208,907,229,919,255,922,289,922,367,920,388,914,407,893,439,860,465,821,483,777,497,733,506,654,515,654,509,732,501,776,492,819,478,857,460,889,436,910,405,915,387,917,367,917,289,913,256,902,232,883,212,857,189,809,159,758,139"/>
<area shape="rect" title=" " alt="" coords="632,352,706,379"/>
<area shape="poly" title=" " alt="" coords="760,137,797,156,829,185,849,215,861,244,860,274,845,306,819,331,788,348,754,358,722,364,721,359,753,353,786,343,816,326,840,302,855,273,855,245,845,218,824,188,794,161,757,142"/>
<area shape="rect" href="mid__global__define__handler_8h.html" title="Global definitions and ramp functions for fixed&#45;point operations." alt="" coords="134,352,319,379"/>
<area shape="poly" title=" " alt="" coords="598,122,499,126,390,137,339,145,295,157,259,171,235,189,224,205,216,223,211,263,214,303,221,337,216,338,208,304,205,263,211,222,219,202,231,185,256,166,293,152,338,140,390,131,499,121,598,117"/>
<area shape="rect" href="mid__fault__management__handler_8h.html" title="Middleware for comprehensive fault management and protection system." alt="" coords="658,187,814,229"/>
<area shape="poly" title=" " alt="" coords="694,138,717,172,712,175,690,141"/>
<area shape="rect" href="mid__measurement__handler_8h.html" title="Header file for MID_Measurement_Handler module." alt="" coords="395,277,583,304"/>
<area shape="poly" title=" " alt="" coords="669,141,639,185,596,231,565,254,533,273,530,268,562,250,593,227,634,181,664,138"/>
<area shape="rect" href="mid__llc__handler_8h.html" title="Header file for MID_LLC_Handler module." alt="" coords="245,195,368,221"/>
<area shape="poly" title=" " alt="" coords="599,139,382,189,368,193,367,188,381,184,598,134"/>
<area shape="rect" href="mid__power__control__handler_8h.html" title="Power control and derating system middleware." alt="" coords="393,195,583,221"/>
<area shape="poly" title=" " alt="" coords="635,142,530,190,528,185,633,137"/>
<area shape="poly" title=" " alt="" coords="265,377,390,424,441,451,560,496,559,501,439,456,388,429,264,382"/>
<area shape="rect" href="mid__iqmath__handler_8h.html" title="Header file for MID_IQMath_Handler module." alt="" coords="228,427,377,453"/>
<area shape="poly" title=" " alt="" coords="242,377,280,414,277,418,238,381"/>
<area shape="poly" title=" " alt="" coords="356,451,560,499,558,505,355,457"/>
<area shape="rect" title=" " alt="" coords="268,501,337,528"/>
<area shape="poly" title=" " alt="" coords="305,454,305,486,300,486,300,454"/>
<area shape="poly" title=" " alt="" coords="725,231,700,278,679,338,674,336,695,276,721,228"/>
<area shape="poly" title=" " alt="" coords="673,232,543,275,542,269,671,227"/>
<area shape="rect" href="drv__comp__core_8h.html" title="Header file for comparator driver module." alt="" coords="710,277,831,304"/>
<area shape="poly" title=" " alt="" coords="747,229,762,262,757,264,742,231"/>
<area shape="poly" title=" " alt="" coords="522,302,625,343,623,348,520,307"/>
<area shape="poly" title=" " alt="" coords="444,307,288,350,287,345,443,302"/>
<area shape="poly" title=" " alt="" coords="475,307,332,419,328,415,472,302"/>
<area shape="rect" href="drv__adc__core_8h.html" title="ADC driver for hardware interfacing." alt="" coords="498,352,608,379"/>
<area shape="poly" title=" " alt="" coords="502,303,534,338,530,342,498,306"/>
<area shape="poly" title=" " alt="" coords="562,378,584,426,602,485,597,487,579,428,557,380"/>
<area shape="poly" title=" " alt="" coords="766,306,721,380,673,441,630,491,626,488,669,438,716,377,762,303"/>
<area shape="poly" title=" " alt="" coords="302,223,242,339,238,337,298,221"/>
<area shape="poly" title=" " alt="" coords="336,219,448,268,446,273,334,224"/>
<area shape="rect" href="mid__controller__handler_8h.html" title="Middleware handler for PI (Proportional&#45;Integral) controller." alt="" coords="5,277,168,304"/>
<area shape="poly" title=" " alt="" coords="273,224,136,274,134,269,271,219"/>
<area shape="rect" href="drv__pwm__core_8h.html" title="PWM driver for LLC converter and fan control." alt="" coords="452,427,569,453"/>
<area shape="poly" title=" " alt="" coords="318,220,385,302,489,413,485,417,380,306,314,224"/>
<area shape="poly" title=" " alt="" coords="112,302,190,342,187,347,110,307"/>
<area shape="poly" title=" " alt="" coords="91,304,100,340,110,360,123,377,143,392,166,405,214,423,212,428,163,410,140,397,119,381,105,363,95,342,86,305"/>
<area shape="poly" title=" " alt="" coords="529,452,579,490,576,494,526,456"/>
<area shape="poly" title=" " alt="" coords="514,220,554,244,598,275,629,307,654,338,650,341,625,310,594,279,551,248,511,224"/>
<area shape="poly" title=" " alt="" coords="462,224,422,247,385,279,318,413,313,411,380,276,419,243,459,220"/>
<area shape="poly" title=" " alt="" coords="491,222,491,262,486,262,485,222"/>
<area shape="poly" title=" " alt="" coords="958,454,654,508,653,502,957,449"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="app__state__management__handler_8c__dep__incl.png" border="0" usemap="#aapp__state__management__handler_8cdep" loading="lazy" alt=""/></div>
<map name="aapp__state__management__handler_8cdep" id="aapp__state__management__handler_8cdep">
<area shape="rect" title="Implementation of the EVSE state machine module." alt="" coords="5,5,166,48"/>
<area shape="rect" href="main_8c.html" title=" " alt="" coords="55,96,116,123"/>
<area shape="poly" title=" " alt="" coords="88,64,88,95,83,95,83,64"/>
</map>
</div>
</div>
<p><a href="app__state__management__handler_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:state_5Fcontrol_5Ft" id="r_state_5Fcontrol_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstate__control__t.html">state_control_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Private data types and enumerations.  <a href="structstate__control__t.html#details">More...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-define-members" class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a38cde78eafa2e8dd1a1614dce505630d" id="r_a38cde78eafa2e8dd1a1614dce505630d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a38cde78eafa2e8dd1a1614dce505630d">K_STATE_MAX_RETRIES_</a>&#160;&#160;&#160;3U</td></tr>
<tr class="memdesc:a38cde78eafa2e8dd1a1614dce505630d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Include public and private headers.  <br /></td></tr>
<tr class="memitem:a9b171d753e93f26b4181679b7a88aafe" id="r_a9b171d753e93f26b4181679b7a88aafe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9b171d753e93f26b4181679b7a88aafe">K_STATE_ERROR_NONE_</a>&#160;&#160;&#160;0x00U</td></tr>
<tr class="memitem:a00e811c3f02457955cb08f8e6195747a" id="r_a00e811c3f02457955cb08f8e6195747a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a00e811c3f02457955cb08f8e6195747a">K_STATE_ERROR_TIMEOUT_</a>&#160;&#160;&#160;0x01U</td></tr>
<tr class="memitem:a13d1b2f8b2f4afaf52565b7c3f525799" id="r_a13d1b2f8b2f4afaf52565b7c3f525799"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a13d1b2f8b2f4afaf52565b7c3f525799">K_STATE_ERROR_INVALID_</a>&#160;&#160;&#160;0x02U</td></tr>
<tr class="memitem:a1403dce3b307aa013cf918ab43fc89a1" id="r_a1403dce3b307aa013cf918ab43fc89a1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1403dce3b307aa013cf918ab43fc89a1">M_STATE_CHECK_VALID_</a>(s)</td></tr>
<tr class="memdesc:a1403dce3b307aa013cf918ab43fc89a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Local macro definitions.  <br /></td></tr>
<tr class="memitem:ab7482019724dbf341145fefd583984b8" id="r_ab7482019724dbf341145fefd583984b8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab7482019724dbf341145fefd583984b8">M_STATE_IS_FAULT_</a>(s)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6867f0e73cb92030fee0b24785908e29" id="r_a6867f0e73cb92030fee0b24785908e29"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6867f0e73cb92030fee0b24785908e29">state_config</a> (<a class="el" href="struct_s___e_v_s_e__t.html">S_EVSE_t</a> *p_evse)</td></tr>
<tr class="memdesc:a6867f0e73cb92030fee0b24785908e29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize state management configuration.  <br /></td></tr>
<tr class="memitem:gab6279279ac9e404eedf7848ce01d529c" id="r_gab6279279ac9e404eedf7848ce01d529c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_p_p___s_t_a_t_e___m_a_n_g_e_m_e_n_t.html#gab6279279ac9e404eedf7848ce01d529c">state_init</a> (<a class="el" href="struct_s___e_v_s_e__t.html">S_EVSE_t</a> *p_evse, <a class="el" href="group___a_p_p___s_t_a_t_e___m_a_n_g_e_m_e_n_t.html#gaf385e9d5b5e5b8d6dcb7451515bc0fde">E_EVSE_State_t</a> initial_state)</td></tr>
<tr class="memdesc:gab6279279ac9e404eedf7848ce01d529c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize state machine with initial state.  <br /></td></tr>
<tr class="memitem:gafc5058be8e5904fe82c000699ae798d8" id="r_gafc5058be8e5904fe82c000699ae798d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_p_p___s_t_a_t_e___m_a_n_g_e_m_e_n_t.html#gafc5058be8e5904fe82c000699ae798d8">state_update</a> (<a class="el" href="struct_s___e_v_s_e__t.html">S_EVSE_t</a> *pEVSE)</td></tr>
<tr class="memdesc:gafc5058be8e5904fe82c000699ae798d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update EVSE state according to state machine.  <br /></td></tr>
<tr class="memitem:ga091c8d156cb84c8f94622ee7a1a4f3db" id="r_ga091c8d156cb84c8f94622ee7a1a4f3db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_p_p___s_t_a_t_e___m_a_n_g_e_m_e_n_t.html#ga091c8d156cb84c8f94622ee7a1a4f3db">state_idleHandle</a> (void)</td></tr>
<tr class="memdesc:ga091c8d156cb84c8f94622ee7a1a4f3db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute IDLE state operations.  <br /></td></tr>
<tr class="memitem:gaaa9f8795754e1acbaf89783fc74a6c6b" id="r_gaaa9f8795754e1acbaf89783fc74a6c6b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_p_p___s_t_a_t_e___m_a_n_g_e_m_e_n_t.html#gaaa9f8795754e1acbaf89783fc74a6c6b">state_softstartHandle</a> (void)</td></tr>
<tr class="memdesc:gaaa9f8795754e1acbaf89783fc74a6c6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute SOFTSTART state operations.  <br /></td></tr>
<tr class="memitem:ga29ccd3122c8c032024ab28a8b7099a8b" id="r_ga29ccd3122c8c032024ab28a8b7099a8b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_p_p___s_t_a_t_e___m_a_n_g_e_m_e_n_t.html#ga29ccd3122c8c032024ab28a8b7099a8b">state_handshakeHandle</a> (void)</td></tr>
<tr class="memdesc:ga29ccd3122c8c032024ab28a8b7099a8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute HANDSHAKE state operations.  <br /></td></tr>
<tr class="memitem:ga64fedf08e758ea7727e7d73db7314f48" id="r_ga64fedf08e758ea7727e7d73db7314f48"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_p_p___s_t_a_t_e___m_a_n_g_e_m_e_n_t.html#ga64fedf08e758ea7727e7d73db7314f48">state_chargingHandle</a> (void)</td></tr>
<tr class="memdesc:ga64fedf08e758ea7727e7d73db7314f48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute CHARGING state operations.  <br /></td></tr>
<tr class="memitem:ga35591692ae6cf3ce5c80f9b45009ec68" id="r_ga35591692ae6cf3ce5c80f9b45009ec68"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_p_p___s_t_a_t_e___m_a_n_g_e_m_e_n_t.html#ga35591692ae6cf3ce5c80f9b45009ec68">state_fullychargedHandle</a> (void)</td></tr>
<tr class="memdesc:ga35591692ae6cf3ce5c80f9b45009ec68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute FULLYCHARGED state operations.  <br /></td></tr>
<tr class="memitem:gac2e896631140039c72e47a4b2aea7205" id="r_gac2e896631140039c72e47a4b2aea7205"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_p_p___s_t_a_t_e___m_a_n_g_e_m_e_n_t.html#gac2e896631140039c72e47a4b2aea7205">state_faultHandle</a> (void)</td></tr>
<tr class="memdesc:gac2e896631140039c72e47a4b2aea7205"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute FAULT state operations.  <br /></td></tr>
<tr class="memitem:ga5ecdb525291f207d99643327732c3f39" id="r_ga5ecdb525291f207d99643327732c3f39"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_p_p___s_t_a_t_e___m_a_n_g_e_m_e_n_t.html#ga5ecdb525291f207d99643327732c3f39">state_autorecoveryHandle</a> (void)</td></tr>
<tr class="memdesc:ga5ecdb525291f207d99643327732c3f39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute AUTORECOVERY state operations.  <br /></td></tr>
<tr class="memitem:ga7d010aaa755adb17c76805ac708a120f" id="r_ga7d010aaa755adb17c76805ac708a120f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_p_p___s_t_a_t_e___m_a_n_g_e_m_e_n_t.html#ga7d010aaa755adb17c76805ac708a120f">state_shutdownHandle</a> (void)</td></tr>
<tr class="memdesc:ga7d010aaa755adb17c76805ac708a120f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute SHUTDOWN state operations.  <br /></td></tr>
<tr class="memitem:ga5e3af4f6ebe90cec1287b588d1ef1bde" id="r_ga5e3af4f6ebe90cec1287b588d1ef1bde"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_p_p___s_t_a_t_e___m_a_n_g_e_m_e_n_t.html#ga5e3af4f6ebe90cec1287b588d1ef1bde">state_isDelayFinished</a> (uint32_t *p_counter, const uint32_t delay_ms, const uint32_t sampling_time_ms)</td></tr>
<tr class="memdesc:ga5e3af4f6ebe90cec1287b588d1ef1bde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if delay period has elapsed.  <br /></td></tr>
<tr class="memitem:a71d74504708b0cc5f10d4e36b60fb2ad" id="r_a71d74504708b0cc5f10d4e36b60fb2ad"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a71d74504708b0cc5f10d4e36b60fb2ad">state_isDebounceFinished</a> (bool condition, uint32_t timeout, uint32_t *p_counter)</td></tr>
<tr class="memdesc:a71d74504708b0cc5f10d4e36b60fb2ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if debounce condition is satisfied.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-var-members" class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga4c3d9d6ec4fb0b0400ba95634c1b9ac3" id="r_ga4c3d9d6ec4fb0b0400ba95634c1b9ac3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_s___e_v_s_e__t.html">S_EVSE_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_p_p___s_t_a_t_e___m_a_n_g_e_m_e_n_t.html#ga4c3d9d6ec4fb0b0400ba95634c1b9ac3">thisEVSE</a></td></tr>
<tr class="memdesc:ga4c3d9d6ec4fb0b0400ba95634c1b9ac3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global state management variables.  <br /></td></tr>
<tr class="memitem:ga8ea1ad52470d704cc9761c0f95257004" id="r_ga8ea1ad52470d704cc9761c0f95257004"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_p_p___s_t_a_t_e___m_a_n_g_e_m_e_n_t.html#ga8ea1ad52470d704cc9761c0f95257004">g_relay_status</a> = 0</td></tr>
<tr class="memdesc:ga8ea1ad52470d704cc9761c0f95257004"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global relay status flag.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of the EVSE state machine module. </p>
</div><a name="doc-define-members" id="doc-define-members"></a><h2 id="header-doc-define-members" class="groupheader">Macro Definition Documentation</h2>
<a id="a13d1b2f8b2f4afaf52565b7c3f525799" name="a13d1b2f8b2f4afaf52565b7c3f525799"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13d1b2f8b2f4afaf52565b7c3f525799">&#9670;&#160;</a></span>K_STATE_ERROR_INVALID_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define K_STATE_ERROR_INVALID_&#160;&#160;&#160;0x02U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Invalid state error status </p>

</div>
</div>
<a id="a9b171d753e93f26b4181679b7a88aafe" name="a9b171d753e93f26b4181679b7a88aafe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b171d753e93f26b4181679b7a88aafe">&#9670;&#160;</a></span>K_STATE_ERROR_NONE_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define K_STATE_ERROR_NONE_&#160;&#160;&#160;0x00U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>No error status </p>

</div>
</div>
<a id="a00e811c3f02457955cb08f8e6195747a" name="a00e811c3f02457955cb08f8e6195747a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00e811c3f02457955cb08f8e6195747a">&#9670;&#160;</a></span>K_STATE_ERROR_TIMEOUT_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define K_STATE_ERROR_TIMEOUT_&#160;&#160;&#160;0x01U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Timeout error status </p>

</div>
</div>
<a id="a38cde78eafa2e8dd1a1614dce505630d" name="a38cde78eafa2e8dd1a1614dce505630d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38cde78eafa2e8dd1a1614dce505630d">&#9670;&#160;</a></span>K_STATE_MAX_RETRIES_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define K_STATE_MAX_RETRIES_&#160;&#160;&#160;3U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Include public and private headers. </p>
<p>Local constant definitions. Maximum state transition retries </p>

</div>
</div>
<a id="a1403dce3b307aa013cf918ab43fc89a1" name="a1403dce3b307aa013cf918ab43fc89a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1403dce3b307aa013cf918ab43fc89a1">&#9670;&#160;</a></span>M_STATE_CHECK_VALID_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define M_STATE_CHECK_VALID_</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((s) &lt; <a class="code hl_enumvalue" href="group___a_p_p___s_t_a_t_e___m_a_n_g_e_m_e_n_t.html#ggaf385e9d5b5e5b8d6dcb7451515bc0fdea30c5faf504b055cb609fb51a2e77ec56">EVSE_STATE_SHUTDOWN</a>)</div>
<div class="ttc" id="agroup___a_p_p___s_t_a_t_e___m_a_n_g_e_m_e_n_t_html_ggaf385e9d5b5e5b8d6dcb7451515bc0fdea30c5faf504b055cb609fb51a2e77ec56"><div class="ttname"><a href="group___a_p_p___s_t_a_t_e___m_a_n_g_e_m_e_n_t.html#ggaf385e9d5b5e5b8d6dcb7451515bc0fdea30c5faf504b055cb609fb51a2e77ec56">EVSE_STATE_SHUTDOWN</a></div><div class="ttdeci">@ EVSE_STATE_SHUTDOWN</div><div class="ttdef"><b>Definition</b> app_state_management_handler.h:138</div></div>
</div><!-- fragment -->
<p>Local macro definitions. </p>

</div>
</div>
<a id="ab7482019724dbf341145fefd583984b8" name="ab7482019724dbf341145fefd583984b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7482019724dbf341145fefd583984b8">&#9670;&#160;</a></span>M_STATE_IS_FAULT_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define M_STATE_IS_FAULT_</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((s) == <a class="code hl_enumvalue" href="group___a_p_p___s_t_a_t_e___m_a_n_g_e_m_e_n_t.html#ggaf385e9d5b5e5b8d6dcb7451515bc0fdea2f91d6a104e482f39032efdaf9097f89">EVSE_STATE_FAULT</a> || (s) == <a class="code hl_enumvalue" href="group___a_p_p___s_t_a_t_e___m_a_n_g_e_m_e_n_t.html#ggaf385e9d5b5e5b8d6dcb7451515bc0fdeaa68c845a6d1ea29861e4c54b71f839eb">EVSE_STATE_AUTORECOVERY</a>)</div>
<div class="ttc" id="agroup___a_p_p___s_t_a_t_e___m_a_n_g_e_m_e_n_t_html_ggaf385e9d5b5e5b8d6dcb7451515bc0fdea2f91d6a104e482f39032efdaf9097f89"><div class="ttname"><a href="group___a_p_p___s_t_a_t_e___m_a_n_g_e_m_e_n_t.html#ggaf385e9d5b5e5b8d6dcb7451515bc0fdea2f91d6a104e482f39032efdaf9097f89">EVSE_STATE_FAULT</a></div><div class="ttdeci">@ EVSE_STATE_FAULT</div><div class="ttdef"><b>Definition</b> app_state_management_handler.h:136</div></div>
<div class="ttc" id="agroup___a_p_p___s_t_a_t_e___m_a_n_g_e_m_e_n_t_html_ggaf385e9d5b5e5b8d6dcb7451515bc0fdeaa68c845a6d1ea29861e4c54b71f839eb"><div class="ttname"><a href="group___a_p_p___s_t_a_t_e___m_a_n_g_e_m_e_n_t.html#ggaf385e9d5b5e5b8d6dcb7451515bc0fdeaa68c845a6d1ea29861e4c54b71f839eb">EVSE_STATE_AUTORECOVERY</a></div><div class="ttdeci">@ EVSE_STATE_AUTORECOVERY</div><div class="ttdef"><b>Definition</b> app_state_management_handler.h:137</div></div>
</div><!-- fragment -->
</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="a6867f0e73cb92030fee0b24785908e29" name="a6867f0e73cb92030fee0b24785908e29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6867f0e73cb92030fee0b24785908e29">&#9670;&#160;</a></span>state_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void state_config </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_s___e_v_s_e__t.html">S_EVSE_t</a> *</td>          <td class="paramname"><span class="paramname"><em>p_evse</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize state management configuration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_evse</td><td>Pointer to EVSE structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Must be called before state_init. </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="app__state__management__handler_8c_a6867f0e73cb92030fee0b24785908e29_icgraph.png" border="0" usemap="#aapp__state__management__handler_8c_a6867f0e73cb92030fee0b24785908e29_icgraph" loading="lazy" alt=""/></div>
<map name="aapp__state__management__handler_8c_a6867f0e73cb92030fee0b24785908e29_icgraph" id="aapp__state__management__handler_8c_a6867f0e73cb92030fee0b24785908e29_icgraph">
<area shape="rect" title="Initialize state management configuration." alt="" coords="501,5,594,32"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_g_e_m_e_n_t.html#gab6279279ac9e404eedf7848ce01d529c" title="Initialize state machine with initial state." alt="" coords="379,5,453,32"/>
<area shape="poly" title=" " alt="" coords="486,21,454,21,454,16,486,16"/>
<area shape="rect" href="_lady_bug_8c.html#a42976755d32f1ba3595eb4385ffa2867" title="Implementation of system initialization." alt="" coords="169,5,331,32"/>
<area shape="poly" title=" " alt="" coords="363,21,332,21,332,16,363,16"/>
<area shape="rect" href="main_8c.html#a066d3569dc1bd19ed44b537e76022e4c" title=" " alt="" coords="5,5,121,32"/>
<area shape="poly" title=" " alt="" coords="153,21,121,21,121,16,153,16"/>
</map>
</div>

</div>
</div>
<a id="a71d74504708b0cc5f10d4e36b60fb2ad" name="a71d74504708b0cc5f10d4e36b60fb2ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71d74504708b0cc5f10d4e36b60fb2ad">&#9670;&#160;</a></span>state_isDebounceFinished()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool state_isDebounceFinished </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>condition</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>timeout</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *</td>          <td class="paramname"><span class="paramname"><em>p_counter</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if debounce condition is satisfied. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">condition</td><td>Transition condition to check </td></tr>
    <tr><td class="paramname">timeout</td><td>Debounce timeout period </td></tr>
    <tr><td class="paramname">p_counter</td><td>Pointer to counter variable </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool true if debounced, false otherwise </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="app__state__management__handler_8c_a71d74504708b0cc5f10d4e36b60fb2ad_icgraph.png" border="0" usemap="#aapp__state__management__handler_8c_a71d74504708b0cc5f10d4e36b60fb2ad_icgraph" loading="lazy" alt=""/></div>
<map name="aapp__state__management__handler_8c_a71d74504708b0cc5f10d4e36b60fb2ad_icgraph" id="aapp__state__management__handler_8c_a71d74504708b0cc5f10d4e36b60fb2ad_icgraph">
<area shape="rect" title="Check if debounce condition is satisfied." alt="" coords="530,5,706,32"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_g_e_m_e_n_t.html#gafc5058be8e5904fe82c000699ae798d8" title="Update EVSE state according to state machine." alt="" coords="386,5,482,32"/>
<area shape="poly" title=" " alt="" coords="515,21,483,21,483,16,515,16"/>
<area shape="rect" href="_lady_bug_8c.html#a085c52fc0af5b2b87e7887a559ddacab" title="Main interrupt service routine implementation." alt="" coords="163,5,338,32"/>
<area shape="poly" title=" " alt="" coords="371,21,339,21,339,16,371,16"/>
<area shape="rect" href="main_8c.html#ae83fe01293877f782caac6df58624f94" title=" " alt="" coords="5,5,115,32"/>
<area shape="poly" title=" " alt="" coords="147,21,115,21,115,16,147,16"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="app__state__management__handler_8c.html">app_state_management_handler.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
