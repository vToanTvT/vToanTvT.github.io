<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LadyBug: Power Control Middleware</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LadyBug<span id="projectnumber">&#160;v1.0</span>
   </div>
   <div id="projectbrief">This is the first version</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('group___m_i_d___p_o_w_e_r.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Power Control Middleware <div class="ingroups"><a class="el" href="group___m_i_d_d_l_e___l_a_y_e_r.html">Middleware Layer</a></div></div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for Power Control Middleware:</div>
<div class="dyncontent">
<div class="center"><img src="group___m_i_d___p_o_w_e_r.png" border="0" usemap="#agroup______m__i__d______p__o__w__e__r" loading="lazy" alt=""/></div>
<map name="agroup______m__i__d______p__o__w__e__r" id="agroup______m__i__d______p__o__w__e__r">
<area shape="rect" href="group___m_i_d_d_l_e___l_a_y_e_r.html" title="Intermediate control logic (PI controller, Fault handler...)." alt="" coords="5,5,129,32"/>
<area shape="rect" title=" " alt="" coords="177,5,351,32"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:S_5FPowerCtrl_5Ft" id="r_S_5FPowerCtrl_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_s___power_ctrl__t.html">S_PowerCtrl_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Power control system state and configuration.  <a href="struct_s___power_ctrl__t.html#details">More...</a><br /></td></tr>
<tr class="memitem:S_5FDeratePoint_5Ft" id="r_S_5FDeratePoint_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_s___derate_point__t.html">S_DeratePoint_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Derating lookup table entry.  <a href="struct_s___derate_point__t.html#details">More...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-var-members" class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gae85bfdc96f8f99d18559d2bb55a7991b" id="r_gae85bfdc96f8f99d18559d2bb55a7991b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_s___power_ctrl__t.html">S_PowerCtrl_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae85bfdc96f8f99d18559d2bb55a7991b">g_pwrctrl_inst</a></td></tr>
<tr class="memdesc:gae85bfdc96f8f99d18559d2bb55a7991b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global instance of power control system.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-member-group" class="groupheader"><a id="member-group" name="member-group"></a>
Core Power Control Functions</h2></td></tr>
<tr class="memitem:ga3ea28682838bb6082b26dbaf4b46d561" id="r_ga3ea28682838bb6082b26dbaf4b46d561"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3ea28682838bb6082b26dbaf4b46d561">pwrctrl_init_</a> (<a class="el" href="struct_s___power_ctrl__t.html">S_PowerCtrl_t</a> *pPowerControl)</td></tr>
<tr class="memdesc:ga3ea28682838bb6082b26dbaf4b46d561"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize power control system.  <br /></td></tr>
<tr class="memitem:ga0d28bfa2310fbd7c34ce2ed130bc3356" id="r_ga0d28bfa2310fbd7c34ce2ed130bc3356"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga0d28bfa2310fbd7c34ce2ed130bc3356">pwrctrl_update_coef_</a> (<a class="el" href="struct_s___power_ctrl__t.html">S_PowerCtrl_t</a> *pPowerControl)</td></tr>
<tr class="memdesc:ga0d28bfa2310fbd7c34ce2ed130bc3356"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update all derating coefficients.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-member-group" class="groupheader"><a id="member-group" name="member-group"></a>
Default Configuration Values</h2></td></tr>
<tr class="memitem:gaf2cf2b96a61c74a3131e1f528588b262" id="r_gaf2cf2b96a61c74a3131e1f528588b262"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf2cf2b96a61c74a3131e1f528588b262">PWRCTRL_DEFAULT_VOLTAGE_COEF</a>&#160;&#160;&#160;1.0f</td></tr>
<tr class="memdesc:gaf2cf2b96a61c74a3131e1f528588b262"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default voltage derating coefficient (1.0 = no derating)  <br /></td></tr>
<tr class="memitem:ga7d826550664c48ca29d451b35496c421" id="r_ga7d826550664c48ca29d451b35496c421"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7d826550664c48ca29d451b35496c421">PWRCTRL_DEFAULT_TEMP_COEF</a>&#160;&#160;&#160;1.0f</td></tr>
<tr class="memdesc:ga7d826550664c48ca29d451b35496c421"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default temperature derating coefficient (1.0 = no derating)  <br /></td></tr>
<tr class="memitem:ga67cecbdb6ea48fe0db2f4ceab25a8f91" id="r_ga67cecbdb6ea48fe0db2f4ceab25a8f91"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga67cecbdb6ea48fe0db2f4ceab25a8f91">NORMAL_TEMPERATURE</a>&#160;&#160;&#160;25.0f</td></tr>
<tr class="memdesc:ga67cecbdb6ea48fe0db2f4ceab25a8f91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Normal operating temperature in Celsius.  <br /></td></tr>
<tr class="memitem:ga43a5156a6b1138c20fab6ca2db8330e2" id="r_ga43a5156a6b1138c20fab6ca2db8330e2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga43a5156a6b1138c20fab6ca2db8330e2">NORMAL_AC_VOLTAGE</a>&#160;&#160;&#160;150.0f</td></tr>
<tr class="memdesc:ga43a5156a6b1138c20fab6ca2db8330e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Normal AC input voltage in Volts.  <br /></td></tr>
<tr class="memitem:ga280ddd23f3dcdd7d9cdd6459fea5d567" id="r_ga280ddd23f3dcdd7d9cdd6459fea5d567"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga280ddd23f3dcdd7d9cdd6459fea5d567">PWRCTRL_PERIOD</a>&#160;&#160;&#160;500U</td></tr>
<tr class="memdesc:ga280ddd23f3dcdd7d9cdd6459fea5d567"><td class="mdescLeft">&#160;</td><td class="mdescRight">Power control update period in milliseconds.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-member-group" class="groupheader"><a id="member-group" name="member-group"></a>
Buffer Configuration</h2></td></tr>
<tr class="memitem:gaeeea42d55f471c08d7621ca4b7c6639a" id="r_gaeeea42d55f471c08d7621ca4b7c6639a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaeeea42d55f471c08d7621ca4b7c6639a">TEMP_CNT</a>&#160;&#160;&#160;5U</td></tr>
<tr class="memdesc:gaeeea42d55f471c08d7621ca4b7c6639a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of temperature measurement buffer.  <br /></td></tr>
<tr class="memitem:ga93402300bb576b937a3e5790b57bd87d" id="r_ga93402300bb576b937a3e5790b57bd87d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga93402300bb576b937a3e5790b57bd87d">ACVOL_CNT</a>&#160;&#160;&#160;5U</td></tr>
<tr class="memdesc:ga93402300bb576b937a3e5790b57bd87d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of AC voltage measurement buffer.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-member-group" class="groupheader"><a id="member-group" name="member-group"></a>
Fixed-Point Conversion Macros</h2></td></tr>
<tr class="memitem:ga302d6cf94b74e0ee6d3a30ff9c6449e6" id="r_ga302d6cf94b74e0ee6d3a30ff9c6449e6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga302d6cf94b74e0ee6d3a30ff9c6449e6">V_Q15</a>(v)</td></tr>
<tr class="memdesc:ga302d6cf94b74e0ee6d3a30ff9c6449e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert voltage to Q15 format.  <br /></td></tr>
<tr class="memitem:gaaa2487d53d286e23fa0c7342f1550c3a" id="r_gaaa2487d53d286e23fa0c7342f1550c3a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaaa2487d53d286e23fa0c7342f1550c3a">T_Q15</a>(t)</td></tr>
<tr class="memdesc:gaaa2487d53d286e23fa0c7342f1550c3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert temperature to Q15 format.  <br /></td></tr>
<tr class="memitem:ga993672753ece91c8ef65baf5a27dc644" id="r_ga993672753ece91c8ef65baf5a27dc644"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga993672753ece91c8ef65baf5a27dc644">PWRCTRL_DEFAULT_VOLTAGE_COEF_Q15</a>&#160;&#160;&#160;<a class="el" href="group___m_i_d___i_q_m_a_t_h___h_a_n_d_l_e_r.html#gac863d74a9c184d73cd19f50725219974">_q15</a>(<a class="el" href="#gaf2cf2b96a61c74a3131e1f528588b262">PWRCTRL_DEFAULT_VOLTAGE_COEF</a>)</td></tr>
<tr class="memdesc:ga993672753ece91c8ef65baf5a27dc644"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default voltage coefficient in Q15 format.  <br /></td></tr>
<tr class="memitem:ga67cc7b70b27cecfbf0c49daf17267f29" id="r_ga67cc7b70b27cecfbf0c49daf17267f29"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga67cc7b70b27cecfbf0c49daf17267f29">PWRCTRL_DEFAULT_TEMP_COEF_Q15</a>&#160;&#160;&#160;<a class="el" href="group___m_i_d___i_q_m_a_t_h___h_a_n_d_l_e_r.html#gac863d74a9c184d73cd19f50725219974">_q15</a>(<a class="el" href="#ga7d826550664c48ca29d451b35496c421">PWRCTRL_DEFAULT_TEMP_COEF</a>)</td></tr>
<tr class="memdesc:ga67cc7b70b27cecfbf0c49daf17267f29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default temperature coefficient in Q15 format.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-member-group" class="groupheader"><a id="member-group" name="member-group"></a>
Power Derating Parameters</h2></td></tr>
<tr class="memitem:gaf0ad7223d375d9d20e091953104ff312" id="r_gaf0ad7223d375d9d20e091953104ff312"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf0ad7223d375d9d20e091953104ff312">PFC_VOL_START_DERATE</a>&#160;&#160;&#160;110.0f</td></tr>
<tr class="memdesc:gaf0ad7223d375d9d20e091953104ff312"><td class="mdescLeft">&#160;</td><td class="mdescRight">AC voltage level where derating begins (Volts)  <br /></td></tr>
<tr class="memitem:gab9bbd53e0bef89477efc991b6a3293d6" id="r_gab9bbd53e0bef89477efc991b6a3293d6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab9bbd53e0bef89477efc991b6a3293d6">PWRCTRL_INPUT_VOLT_DERATE_Q15</a>&#160;&#160;&#160;(<a class="el" href="#gaf0ad7223d375d9d20e091953104ff312">PFC_VOL_START_DERATE</a> - <a class="el" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t___h_a_n_d_l_e_r.html#ga23ee6771cd927869c262321ac1ee7cfc">AC_VOLTAGE_OFFSET_F32</a>)/(2*<a class="el" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t___h_a_n_d_l_e_r.html#ga5ff403a86b1b6f0d079b926c3cd6a17d">AC_VOLTAGE_GAIN_F32</a>)</td></tr>
<tr class="memdesc:gab9bbd53e0bef89477efc991b6a3293d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Derating threshold in Q15 format.  <br /></td></tr>
<tr class="memitem:ga9d7589e890b12ba88aab9bd99fcca947" id="r_ga9d7589e890b12ba88aab9bd99fcca947"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9d7589e890b12ba88aab9bd99fcca947">PWRCTRL_DERATE_COEF_INIT</a>&#160;&#160;&#160;<a class="el" href="group___m_i_d___i_q_m_a_t_h___h_a_n_d_l_e_r.html#gac863d74a9c184d73cd19f50725219974">_q15</a>(1.0f)</td></tr>
<tr class="memdesc:ga9d7589e890b12ba88aab9bd99fcca947"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initial derating coefficient (1.0 = no derating)  <br /></td></tr>
<tr class="memitem:ga89025cadcba0c515fe5e186ad2e75cb1" id="r_ga89025cadcba0c515fe5e186ad2e75cb1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga89025cadcba0c515fe5e186ad2e75cb1">NORMAL_TEMPERATURE_Q15</a>&#160;&#160;&#160;<a class="el" href="#ga302d6cf94b74e0ee6d3a30ff9c6449e6">V_Q15</a>(<a class="el" href="#ga67cecbdb6ea48fe0db2f4ceab25a8f91">NORMAL_TEMPERATURE</a>)</td></tr>
<tr class="memdesc:ga89025cadcba0c515fe5e186ad2e75cb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Normal temperature in Q15 format.  <br /></td></tr>
<tr class="memitem:gadba3c0f2062afccca29d3508d9e82ac4" id="r_gadba3c0f2062afccca29d3508d9e82ac4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gadba3c0f2062afccca29d3508d9e82ac4">NORMAL_AC_VOLTAGE_Q15</a>&#160;&#160;&#160;<a class="el" href="#gaaa2487d53d286e23fa0c7342f1550c3a">T_Q15</a>(<a class="el" href="#ga43a5156a6b1138c20fab6ca2db8330e2">NORMAL_AC_VOLTAGE</a>)</td></tr>
<tr class="memdesc:gadba3c0f2062afccca29d3508d9e82ac4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Normal AC voltage in Q15 format.  <br /></td></tr>
<tr class="memitem:ga59e3100b2a9c776f8aa01ab52db9be19" id="r_ga59e3100b2a9c776f8aa01ab52db9be19"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga59e3100b2a9c776f8aa01ab52db9be19">PWRCTRL_DERATE_CONDITION</a>&#160;&#160;&#160;(ac_voltage_inst.value_q15 &gt; <a class="el" href="#gab9bbd53e0bef89477efc991b6a3293d6">PWRCTRL_INPUT_VOLT_DERATE_Q15</a>)</td></tr>
<tr class="memdesc:ga59e3100b2a9c776f8aa01ab52db9be19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Condition for starting voltage-based derating.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<p>Implements temperature/voltage derating, buffer management, and power control logic.</p>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2025-10-17 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>EVSELab</dd></dl>
<p>This module implements an advanced power control system with:</p><ul>
<li>Dynamic power derating based on temperature and voltage</li>
<li>Lookup table-based coefficient calculation</li>
<li>Moving average and median filtering</li>
<li>Fixed-point Q15/Q31 arithmetic for efficient MCU processing</li>
<li>Real-time monitoring and adaptive control</li>
</ul>
<p><b>Power derating mechanisms:</b></p><ol type="1">
<li><b>Temperature-based derating:</b><ul>
<li>Monitors multiple thermal sensors</li>
<li>Progressive derating as temperature increases</li>
<li>Prevents thermal overstress</li>
</ul>
</li>
<li><b>Voltage-based derating:</b><ul>
<li>Monitors AC input voltage</li>
<li>Reduces power under low-line conditions</li>
<li>Ensures stable operation under input variations</li>
</ul>
</li>
</ol>
<dl class="section note"><dt>Note</dt><dd>All calculations use fixed-point arithmetic for high performance. </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Proper configuration of derating tables is critical for system protection.</dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2025-10-17 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>EVSELab </dd></dl>
<a name="doc-define-members" id="doc-define-members"></a><h2 id="header-doc-define-members" class="groupheader">Macro Definition Documentation</h2>
<a id="ga93402300bb576b937a3e5790b57bd87d" name="ga93402300bb576b937a3e5790b57bd87d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga93402300bb576b937a3e5790b57bd87d">&#9670;&#160;</a></span>ACVOL_CNT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ACVOL_CNT&#160;&#160;&#160;5U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Size of AC voltage measurement buffer. </p>

</div>
</div>
<a id="ga43a5156a6b1138c20fab6ca2db8330e2" name="ga43a5156a6b1138c20fab6ca2db8330e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga43a5156a6b1138c20fab6ca2db8330e2">&#9670;&#160;</a></span>NORMAL_AC_VOLTAGE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NORMAL_AC_VOLTAGE&#160;&#160;&#160;150.0f</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Normal AC input voltage in Volts. </p>

</div>
</div>
<a id="gadba3c0f2062afccca29d3508d9e82ac4" name="gadba3c0f2062afccca29d3508d9e82ac4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadba3c0f2062afccca29d3508d9e82ac4">&#9670;&#160;</a></span>NORMAL_AC_VOLTAGE_Q15</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NORMAL_AC_VOLTAGE_Q15&#160;&#160;&#160;<a class="el" href="#gaaa2487d53d286e23fa0c7342f1550c3a">T_Q15</a>(<a class="el" href="#ga43a5156a6b1138c20fab6ca2db8330e2">NORMAL_AC_VOLTAGE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Normal AC voltage in Q15 format. </p>

</div>
</div>
<a id="ga67cecbdb6ea48fe0db2f4ceab25a8f91" name="ga67cecbdb6ea48fe0db2f4ceab25a8f91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga67cecbdb6ea48fe0db2f4ceab25a8f91">&#9670;&#160;</a></span>NORMAL_TEMPERATURE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NORMAL_TEMPERATURE&#160;&#160;&#160;25.0f</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Normal operating temperature in Celsius. </p>

</div>
</div>
<a id="ga89025cadcba0c515fe5e186ad2e75cb1" name="ga89025cadcba0c515fe5e186ad2e75cb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga89025cadcba0c515fe5e186ad2e75cb1">&#9670;&#160;</a></span>NORMAL_TEMPERATURE_Q15</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NORMAL_TEMPERATURE_Q15&#160;&#160;&#160;<a class="el" href="#ga302d6cf94b74e0ee6d3a30ff9c6449e6">V_Q15</a>(<a class="el" href="#ga67cecbdb6ea48fe0db2f4ceab25a8f91">NORMAL_TEMPERATURE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Normal temperature in Q15 format. </p>

</div>
</div>
<a id="gaf0ad7223d375d9d20e091953104ff312" name="gaf0ad7223d375d9d20e091953104ff312"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf0ad7223d375d9d20e091953104ff312">&#9670;&#160;</a></span>PFC_VOL_START_DERATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PFC_VOL_START_DERATE&#160;&#160;&#160;110.0f</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>AC voltage level where derating begins (Volts) </p>

</div>
</div>
<a id="ga7d826550664c48ca29d451b35496c421" name="ga7d826550664c48ca29d451b35496c421"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7d826550664c48ca29d451b35496c421">&#9670;&#160;</a></span>PWRCTRL_DEFAULT_TEMP_COEF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PWRCTRL_DEFAULT_TEMP_COEF&#160;&#160;&#160;1.0f</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default temperature derating coefficient (1.0 = no derating) </p>

</div>
</div>
<a id="ga67cc7b70b27cecfbf0c49daf17267f29" name="ga67cc7b70b27cecfbf0c49daf17267f29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga67cc7b70b27cecfbf0c49daf17267f29">&#9670;&#160;</a></span>PWRCTRL_DEFAULT_TEMP_COEF_Q15</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PWRCTRL_DEFAULT_TEMP_COEF_Q15&#160;&#160;&#160;<a class="el" href="group___m_i_d___i_q_m_a_t_h___h_a_n_d_l_e_r.html#gac863d74a9c184d73cd19f50725219974">_q15</a>(<a class="el" href="#ga7d826550664c48ca29d451b35496c421">PWRCTRL_DEFAULT_TEMP_COEF</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default temperature coefficient in Q15 format. </p>

</div>
</div>
<a id="gaf2cf2b96a61c74a3131e1f528588b262" name="gaf2cf2b96a61c74a3131e1f528588b262"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf2cf2b96a61c74a3131e1f528588b262">&#9670;&#160;</a></span>PWRCTRL_DEFAULT_VOLTAGE_COEF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PWRCTRL_DEFAULT_VOLTAGE_COEF&#160;&#160;&#160;1.0f</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default voltage derating coefficient (1.0 = no derating) </p>

</div>
</div>
<a id="ga993672753ece91c8ef65baf5a27dc644" name="ga993672753ece91c8ef65baf5a27dc644"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga993672753ece91c8ef65baf5a27dc644">&#9670;&#160;</a></span>PWRCTRL_DEFAULT_VOLTAGE_COEF_Q15</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PWRCTRL_DEFAULT_VOLTAGE_COEF_Q15&#160;&#160;&#160;<a class="el" href="group___m_i_d___i_q_m_a_t_h___h_a_n_d_l_e_r.html#gac863d74a9c184d73cd19f50725219974">_q15</a>(<a class="el" href="#gaf2cf2b96a61c74a3131e1f528588b262">PWRCTRL_DEFAULT_VOLTAGE_COEF</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default voltage coefficient in Q15 format. </p>

</div>
</div>
<a id="ga9d7589e890b12ba88aab9bd99fcca947" name="ga9d7589e890b12ba88aab9bd99fcca947"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9d7589e890b12ba88aab9bd99fcca947">&#9670;&#160;</a></span>PWRCTRL_DERATE_COEF_INIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PWRCTRL_DERATE_COEF_INIT&#160;&#160;&#160;<a class="el" href="group___m_i_d___i_q_m_a_t_h___h_a_n_d_l_e_r.html#gac863d74a9c184d73cd19f50725219974">_q15</a>(1.0f)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initial derating coefficient (1.0 = no derating) </p>

</div>
</div>
<a id="ga59e3100b2a9c776f8aa01ab52db9be19" name="ga59e3100b2a9c776f8aa01ab52db9be19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga59e3100b2a9c776f8aa01ab52db9be19">&#9670;&#160;</a></span>PWRCTRL_DERATE_CONDITION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PWRCTRL_DERATE_CONDITION&#160;&#160;&#160;(ac_voltage_inst.value_q15 &gt; <a class="el" href="#gab9bbd53e0bef89477efc991b6a3293d6">PWRCTRL_INPUT_VOLT_DERATE_Q15</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Condition for starting voltage-based derating. </p>

</div>
</div>
<a id="gab9bbd53e0bef89477efc991b6a3293d6" name="gab9bbd53e0bef89477efc991b6a3293d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab9bbd53e0bef89477efc991b6a3293d6">&#9670;&#160;</a></span>PWRCTRL_INPUT_VOLT_DERATE_Q15</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PWRCTRL_INPUT_VOLT_DERATE_Q15&#160;&#160;&#160;(<a class="el" href="#gaf0ad7223d375d9d20e091953104ff312">PFC_VOL_START_DERATE</a> - <a class="el" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t___h_a_n_d_l_e_r.html#ga23ee6771cd927869c262321ac1ee7cfc">AC_VOLTAGE_OFFSET_F32</a>)/(2*<a class="el" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t___h_a_n_d_l_e_r.html#ga5ff403a86b1b6f0d079b926c3cd6a17d">AC_VOLTAGE_GAIN_F32</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Derating threshold in Q15 format. </p>

</div>
</div>
<a id="ga280ddd23f3dcdd7d9cdd6459fea5d567" name="ga280ddd23f3dcdd7d9cdd6459fea5d567"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga280ddd23f3dcdd7d9cdd6459fea5d567">&#9670;&#160;</a></span>PWRCTRL_PERIOD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PWRCTRL_PERIOD&#160;&#160;&#160;500U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Power control update period in milliseconds. </p>

</div>
</div>
<a id="gaaa2487d53d286e23fa0c7342f1550c3a" name="gaaa2487d53d286e23fa0c7342f1550c3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaa2487d53d286e23fa0c7342f1550c3a">&#9670;&#160;</a></span>T_Q15</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define T_Q15</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>t</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((t-<a class="code hl_define" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t___h_a_n_d_l_e_r.html#ga8c2b180a989fa02b93e3ece84730e6bd">THERMAL_LLC_OFFSET_F32</a>)/(2*<a class="code hl_define" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t___h_a_n_d_l_e_r.html#ga4ee8daf2e6b01407bbc981d596aecb79">THERMAL_LLC_GAIN_F32</a>))</div>
<div class="ttc" id="agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t___h_a_n_d_l_e_r_html_ga4ee8daf2e6b01407bbc981d596aecb79"><div class="ttname"><a href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t___h_a_n_d_l_e_r.html#ga4ee8daf2e6b01407bbc981d596aecb79">THERMAL_LLC_GAIN_F32</a></div><div class="ttdeci">#define THERMAL_LLC_GAIN_F32</div><div class="ttdoc">LLC temperature gain for direct calculation.</div><div class="ttdef"><b>Definition</b> mid_measurement_handler.h:103</div></div>
<div class="ttc" id="agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t___h_a_n_d_l_e_r_html_ga8c2b180a989fa02b93e3ece84730e6bd"><div class="ttname"><a href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t___h_a_n_d_l_e_r.html#ga8c2b180a989fa02b93e3ece84730e6bd">THERMAL_LLC_OFFSET_F32</a></div><div class="ttdeci">#define THERMAL_LLC_OFFSET_F32</div><div class="ttdoc">LLC temperature offset for direct calculation.</div><div class="ttdef"><b>Definition</b> mid_measurement_handler.h:105</div></div>
</div><!-- fragment -->
<p>Convert temperature to Q15 format. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>Temperature in floating-point format </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Q15 representation of temperature </dd></dl>

</div>
</div>
<a id="gaeeea42d55f471c08d7621ca4b7c6639a" name="gaeeea42d55f471c08d7621ca4b7c6639a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeeea42d55f471c08d7621ca4b7c6639a">&#9670;&#160;</a></span>TEMP_CNT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TEMP_CNT&#160;&#160;&#160;5U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Size of temperature measurement buffer. </p>

</div>
</div>
<a id="ga302d6cf94b74e0ee6d3a30ff9c6449e6" name="ga302d6cf94b74e0ee6d3a30ff9c6449e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga302d6cf94b74e0ee6d3a30ff9c6449e6">&#9670;&#160;</a></span>V_Q15</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define V_Q15</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((v-<a class="code hl_define" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t___h_a_n_d_l_e_r.html#ga23ee6771cd927869c262321ac1ee7cfc">AC_VOLTAGE_OFFSET_F32</a>)/(2*<a class="code hl_define" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t___h_a_n_d_l_e_r.html#ga5ff403a86b1b6f0d079b926c3cd6a17d">AC_VOLTAGE_GAIN_F32</a>))</div>
<div class="ttc" id="agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t___h_a_n_d_l_e_r_html_ga23ee6771cd927869c262321ac1ee7cfc"><div class="ttname"><a href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t___h_a_n_d_l_e_r.html#ga23ee6771cd927869c262321ac1ee7cfc">AC_VOLTAGE_OFFSET_F32</a></div><div class="ttdeci">#define AC_VOLTAGE_OFFSET_F32</div><div class="ttdoc">AC voltage offset for direct calculation.</div><div class="ttdef"><b>Definition</b> mid_measurement_handler.h:123</div></div>
<div class="ttc" id="agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t___h_a_n_d_l_e_r_html_ga5ff403a86b1b6f0d079b926c3cd6a17d"><div class="ttname"><a href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t___h_a_n_d_l_e_r.html#ga5ff403a86b1b6f0d079b926c3cd6a17d">AC_VOLTAGE_GAIN_F32</a></div><div class="ttdeci">#define AC_VOLTAGE_GAIN_F32</div><div class="ttdoc">AC voltage gain for direct calculation.</div><div class="ttdef"><b>Definition</b> mid_measurement_handler.h:121</div></div>
</div><!-- fragment -->
<p>Convert voltage to Q15 format. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>Voltage in floating-point format </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Q15 representation of voltage </dd></dl>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="ga3ea28682838bb6082b26dbaf4b46d561" name="ga3ea28682838bb6082b26dbaf4b46d561"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3ea28682838bb6082b26dbaf4b46d561">&#9670;&#160;</a></span>pwrctrl_init_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pwrctrl_init_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_s___power_ctrl__t.html">S_PowerCtrl_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pPowerControl</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize power control system. </p>
<p>Initializes the power control structure with default values:</p><ul>
<li>Sets default coefficients</li>
<li>Clears measurement buffers</li>
<li>Configures update timing</li>
<li>Initializes statistics</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pPowerControl</td><td>Pointer to power control structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Must be called before any other power control functions</dd></dl>
<p>Initialize power control system.</p>
<p>Sets default voltage and temperature coefficients, period, counter, and measurement buffers.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pPowerControl</td><td>Pointer to PowerCtrl_t structure </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___m_i_d___p_o_w_e_r_ga3ea28682838bb6082b26dbaf4b46d561_icgraph.png" border="0" usemap="#agroup___m_i_d___p_o_w_e_r_ga3ea28682838bb6082b26dbaf4b46d561_icgraph" loading="lazy" alt=""/></div>
<map name="agroup___m_i_d___p_o_w_e_r_ga3ea28682838bb6082b26dbaf4b46d561_icgraph" id="agroup___m_i_d___p_o_w_e_r_ga3ea28682838bb6082b26dbaf4b46d561_icgraph">
<area shape="rect" title="Initialize power control system." alt="" coords="379,5,470,32"/>
<area shape="rect" href="_lady_bug_8c.html#a42976755d32f1ba3595eb4385ffa2867" title="Implementation of system initialization." alt="" coords="169,5,331,32"/>
<area shape="poly" title=" " alt="" coords="363,21,331,21,331,16,363,16"/>
<area shape="rect" href="main_8c.html#a066d3569dc1bd19ed44b537e76022e4c" title=" " alt="" coords="5,5,121,32"/>
<area shape="poly" title=" " alt="" coords="153,21,121,21,121,16,153,16"/>
</map>
</div>

</div>
</div>
<a id="ga0d28bfa2310fbd7c34ce2ed130bc3356" name="ga0d28bfa2310fbd7c34ce2ed130bc3356"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0d28bfa2310fbd7c34ce2ed130bc3356">&#9670;&#160;</a></span>pwrctrl_update_coef_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pwrctrl_update_coef_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_s___power_ctrl__t.html">S_PowerCtrl_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pPowerControl</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update all derating coefficients. </p>
<p>Performs complete update of power derating system:</p><ol type="1">
<li>Updates temperature coefficients:<ul>
<li>Processes thermal sensor readings</li>
<li>Applies temperature derating curve</li>
</ul>
</li>
<li>Updates voltage coefficients:<ul>
<li>Processes AC voltage measurements</li>
<li>Applies voltage derating curve</li>
</ul>
</li>
<li>Combines coefficients:<ul>
<li>Selects most restrictive factor</li>
<li>Updates both Q15 and float values</li>
</ul>
</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pPowerControl</td><td>Pointer to power control structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Called periodically to maintain power control</dd></dl>
<p>Update all derating coefficients.</p>
<p>Computes both temperature and voltage derating coefficients, then sets the overall coefficient to the minimum of the two.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pPowerControl</td><td>Pointer to PowerCtrl_t structure </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___m_i_d___p_o_w_e_r_ga0d28bfa2310fbd7c34ce2ed130bc3356_cgraph.png" border="0" usemap="#agroup___m_i_d___p_o_w_e_r_ga0d28bfa2310fbd7c34ce2ed130bc3356_cgraph" loading="lazy" alt=""/></div>
<map name="agroup___m_i_d___p_o_w_e_r_ga0d28bfa2310fbd7c34ce2ed130bc3356_cgraph" id="agroup___m_i_d___p_o_w_e_r_ga0d28bfa2310fbd7c34ce2ed130bc3356_cgraph">
<area shape="rect" title="Update all derating coefficients." alt="" coords="5,56,151,83"/>
<area shape="rect" href="mid__power__control__handler_8c.html#ab603a7e4a1aa44a29b409fb282d540e9" title="Compute temperature derating coefficient." alt="" coords="205,15,358,57"/>
<area shape="poly" title=" " alt="" coords="150,55,189,48,190,54,151,60"/>
<area shape="rect" href="mid__power__control__handler_8c.html#ae54f95be71f0ca98e6f02a2ace951dd2" title="Compute voltage derating coefficient." alt="" coords="199,81,365,124"/>
<area shape="poly" title=" " alt="" coords="151,79,184,84,183,89,150,84"/>
<area shape="rect" href="mid__power__control__handler_8c.html#a2cde8f1802d1d7f9b83c6381d1f576c7" title="Calculate average of buffer values." alt="" coords="414,5,565,32"/>
<area shape="poly" title=" " alt="" coords="359,27,398,24,398,29,359,32"/>
<area shape="rect" href="mid__power__control__handler_8c.html#aa8a37e530fad0e49546479a1cd0cbced" title="Get median of 4&#45;sample array." alt="" coords="418,56,560,83"/>
<area shape="poly" title=" " alt="" coords="359,46,403,53,402,58,358,51"/>
<area shape="rect" href="mid__power__control__handler_8c.html#a849ee7e22e003710fe0f940ae2f50334" title="Update measurement buffer with new value." alt="" coords="413,107,565,133"/>
<area shape="poly" title=" " alt="" coords="340,55,366,67,414,92,430,98,428,103,412,97,364,72,338,60"/>
<area shape="rect" href="mid__power__control__handler_8c.html#aef859e2b7a51ae3ed4534469a76d1fdc" title="Swap two integer values." alt="" coords="613,56,757,83"/>
<area shape="poly" title=" " alt="" coords="560,67,598,67,598,72,560,72"/>
<area shape="poly" title=" " alt="" coords="338,78,364,67,412,42,428,35,430,40,414,46,366,72,340,83"/>
<area shape="poly" title=" " alt="" coords="365,87,403,80,404,86,366,92"/>
<area shape="poly" title=" " alt="" coords="365,107,398,110,397,115,365,112"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___m_i_d___p_o_w_e_r_ga0d28bfa2310fbd7c34ce2ed130bc3356_icgraph.png" border="0" usemap="#agroup___m_i_d___p_o_w_e_r_ga0d28bfa2310fbd7c34ce2ed130bc3356_icgraph" loading="lazy" alt=""/></div>
<map name="agroup___m_i_d___p_o_w_e_r_ga0d28bfa2310fbd7c34ce2ed130bc3356_icgraph" id="agroup___m_i_d___p_o_w_e_r_ga0d28bfa2310fbd7c34ce2ed130bc3356_icgraph">
<area shape="rect" title="Update all derating coefficients." alt="" coords="350,5,495,32"/>
<area shape="rect" href="_lady_bug_8c.html#acbc3745ea25400eacd9f3ec0104fe540" title="Infinite loop system function implementation." alt="" coords="163,5,302,32"/>
<area shape="poly" title=" " alt="" coords="335,21,302,21,302,16,335,16"/>
<area shape="rect" href="main_8c.html#ae83fe01293877f782caac6df58624f94" title=" " alt="" coords="5,5,115,32"/>
<area shape="poly" title=" " alt="" coords="147,21,115,21,115,16,147,16"/>
</map>
</div>

</div>
</div>
<a name="doc-var-members" id="doc-var-members"></a><h2 id="header-doc-var-members" class="groupheader">Variable Documentation</h2>
<a id="gae85bfdc96f8f99d18559d2bb55a7991b" name="gae85bfdc96f8f99d18559d2bb55a7991b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae85bfdc96f8f99d18559d2bb55a7991b">&#9670;&#160;</a></span>g_pwrctrl_inst</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_s___power_ctrl__t.html">S_PowerCtrl_t</a> g_pwrctrl_inst</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Global instance of power control system. </p>
<p>Main power control structure containing:</p><ul>
<li>Current derating coefficients</li>
<li>Measurement history</li>
<li>System state information</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Access through accessor functions for thread safety </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
